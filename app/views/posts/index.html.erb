<% @posts.each do |posts| %>
  <div>
    <%= link_to post_path(posts.id) do %>
      <%= image_tag posts.get_image %>
    <% end %>
    <p>投稿ユーザー画像：<%= image_tag 'sample-author1.jpg' %></p>
    <p>説明：<%= posts.sentence %></p>
    <p>ユーザーネーム：<%= posts.user.name %></p>
    <p>Category：<%= posts.category %></p>
  </div>
    <div id="star_<%= posts.id %>"></div>
<script>
$(document).on('turbolinks:load', function() {
  let elem = document.querySelector('#star_<%= posts.id %>');
  if (elem == null) return;

  elem.innerHTML = "";
  let opt = {
    starOn: "<%= asset_path('star-on.png') %>",
    starOff: "<%= asset_path('star-off.png') %>",
    starHalf: "<%= asset_path('star-half.png') %>",
    score: "<%= posts.star %>",
    readOnly: true,
  };
  raty(elem, opt);
});
</script>
<% end %>